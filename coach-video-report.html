<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>RowXL — Coach Video Report (Coach Intelligence)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
body {
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
  background:radial-gradient(circle at top,#0b1530 0,#020617 55%,#000 100%);
  color:#e5f0ff;
}
.wrap { max-width:1200px; margin:40px auto; padding:20px }
h1 { margin-bottom:5px }
small { color:#9fb5d1 }

.panel {
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:16px;
  background:#0f172a;
  border-radius:14px;
  padding:16px;
  border:1px solid #1e3a5f;
}

label { font-size:12px; color:#9fb5d1; display:block; margin-top:8px }
input, select, textarea {
  width:100%;
  padding:8px;
  border-radius:8px;
  background:#020617;
  border:1px solid #1e3a5f;
  color:white;
}
textarea { min-height:120px }

.dropzone {
  margin-top:10px;
  border:2px dashed #1e3a5f;
  border-radius:10px;
  padding:20px;
  text-align:center;
  color:#9fb5d1;
}

.btn {
  background:linear-gradient(135deg,#0ea5e9,#2563eb);
  border:none;
  border-radius:999px;
  color:white;
  padding:10px 14px;
  margin-top:10px;
  cursor:pointer;
}

.output {
  white-space:pre-wrap;
  background:#020617;
  border:1px solid #1e3a5f;
  padding:12px;
  border-radius:10px;
  min-height:400px;
}

video {
  margin-top:10px;
  max-width:100%;
  border-radius:10px;
}
</style>
</head>

<body>

<div class="wrap">
<h1>RowXL — Video Coach Intelligence</h1>
<small>Coach reasoning engine + drill intelligence (no AI yet — coach brain active)</small>

<div class="panel">
<div>

<label>Athlete Name</label>
<input id="athlete" placeholder="Name" />

<label>Boat Class</label>
<select id="boat">
<option>1x</option><option>2x</option><option>2-</option>
<option>4x</option><option>4+</option><option>4-</option>
<option>8+</option>
</select>

<label>Seat</label>
<input id="seat" placeholder="Stroke / Bow / Seat" />

<label>Session Type</label>
<input id="session" placeholder="Training / Race / Test" />

<label>Conditions</label>
<input id="cond" placeholder="Wind, chop, flat..." />

<label>Camera Angle</label>
<select id="cam">
<option>Side-on</option>
<option>Bow</option>
<option>Stern</option>
<option>Quarter</option>
</select>

<div id="dropArea" class="dropzone">Drop video here or click</div>
<input type="file" id="file" hidden accept="video/*"/>

<video id="preview" controls hidden></video>

<label>Coach Notes (this now drives the report)</label>
<textarea id="notes" placeholder="Write exactly what you see — faults, comments, instincts..."></textarea>

<button class="btn" onclick="generate()">Generate Coach Report</button>

</div>

<div>
<div class="output" id="out">Report will appear here...</div>
</div>

</div>
</div>

<script>
const drop = document.getElementById("dropArea");
const fileInput = document.getElementById("file");
const video = document.getElementById("preview");

drop.onclick = ()=>fileInput.click();

drop.ondragover = e => { e.preventDefault(); drop.style.borderColor="#38bdf8"; };
drop.ondragleave = ()=> drop.style.borderColor="#1e3a5f";
drop.ondrop = e=>{
  e.preventDefault();
  fileInput.files = e.dataTransfer.files;
  loadVideo();
};

fileInput.onchange = loadVideo;

function loadVideo(){
  const f = fileInput.files[0];
  if(!f) return;
  video.src = URL.createObjectURL(f);
  video.hidden = false;
  drop.innerHTML = "Loaded: " + f.name;
}

function generate(){
  const name = athlete.value || "Athlete";
  const boat = document.getElementById("boat").value;
  const seat = seatInput = document.getElementById("seat").value || "—";
  const cond = document.getElementById("cond").value || "Not specified";
  const cam  = document.getElementById("cam").value;
  const notes = document.getElementById("notes").value.toLowerCase();

  let findings=[], drills=[], cues=[];

  if(notes.includes("early arm") || notes.includes("bending")){
    findings.push("Early arm engagement breaking leg drive sequence");
    drills.push("Pause rowing (legs down)", "Reverse pick drill", "Arms-away only pauses");
    cues.push("Arms last", "Hang before pull");
  }

  if(notes.includes("rush") || notes.includes("fast")){
    findings.push("Slide rushing and loss of control on recovery");
    drills.push("Rate capped paddling", "Feet-out rowing");
    cues.push("Slow up", "Control the slide");
  }

  if(notes.includes("catch")){
    findings.push("Inconsistent front-end placement and timing");
    drills.push("Square blade rowing", "Roll-ups", "Catch placement drill");
    cues.push("Place then push", "Front first");
  }

  if(notes.includes("finish")){
    findings.push("Unstable handle path and release");
    drills.push("Tap-down drill", "Finish holds");
    cues.push("Flat hands away", "Clean tap");
  }

  if(findings.length === 0){
    findings.push("General technical inefficiency observed under load");
    drills.push("Pause rowing", "Square blade paddling");
    cues.push("Length first", "Relaxed power");
  }

  let text = `ROWXL COACH REPORT

Athlete: ${name}
Boat: ${boat}
Seat: ${seat}
Conditions: ${cond}
Camera: ${cam}

KEY FINDINGS:
${findings.map(f=>"• "+f).join("\n")}

PRIORITY FIXES:
1. ${findings[0]}
2. Technical consistency under fatigue
3. Blade control at the front end

DRILLS PRESCRIBED:
${drills.map(d=>"• "+d).join("\n")}

COACHING CUES:
${cues.map(c=>"• "+c).join("\n")}

SESSION STRUCTURE SUGGESTION:
• Warm-up: pause rowing + square blades
• Main work: low rate control focus
• Cool-down: technical steady paddle

OVERALL IMPRESSION:
The crew shows a workable technical platform but consistency drops under load and rate. Emphasis now should shift to control, repeatability and blade discipline.

SIGNED: Noel Carey — Coach & Analyst
`;

  out.textContent = text;
}
</script>

</body>
</html>
